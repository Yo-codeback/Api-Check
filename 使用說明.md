# API監控中心 - 使用說明

## 🎯 功能概述

這個API監控系統已經針對您的手機螢幕（2412×1080）進行了優化，並添加了完整的警報功能。

## 📱 手機優化特色

### 1. 響應式設計
- 專為手機螢幕尺寸優化
- 垂直佈局，適合單手操作
- 觸控友好的按鈕大小（最小44px）

### 2. 全螢幕支援
- 點擊頁面自動進入全螢幕模式
- 禁用使用者縮放以確保最佳顯示
- 固定定位，防止滾動問題

### 3. 視覺優化
- 深色主題，減少眼睛疲勞
- 高對比度設計
- 動畫效果增強使用者體驗

## 🚨 警報系統

### 警報觸發條件
1. **API連線異常**: 連續2次API檢查失敗
2. **伺服器連線錯誤**: 前端無法連接到後端
3. **HTTP錯誤**: 伺服器回應非200狀態碼

### 警報功能
- **音頻警報**: 每10秒播放一次警報音（800Hz→600Hz→800Hz）
- **視覺警報**: 紅色閃爍覆蓋層
- **連線狀態指示器**: 右上角即時顯示連線狀態

### 警報控制
- **確認按鈕**: 關閉警報
- **重試按鈕**: 重新嘗試連線
- **自動恢復**: API恢復正常時自動停止警報

## 🔧 使用方法

### 1. 啟動服務
```bash
python app.py
```

### 2. 訪問頁面
在手機瀏覽器中訪問：
- **主監控頁面**: `http://[您的IP]:5000/`
- **測試頁面**: `http://[您的IP]:5000/test`
- **簡化頁面**: `http://[您的IP]:5000/simple`

### 3. 測試警報功能
1. 訪問測試頁面 `/test`
2. 點擊「測試警報音」測試音頻
3. 點擊「測試警報畫面」測試視覺警報
4. 點擊「模擬連線錯誤」測試完整流程

## 📊 監控資訊

### API狀態卡片
- **即時狀態**: 成功/異常/等待
- **最後檢查時間**: 顯示具體時間
- **下次檢查時間**: 預估下次檢查時間
- **檢查間隔**: 當前設定的檢查頻率

### 統計資料卡片
- **總檢查次數**: 累計檢查次數
- **成功次數**: 成功回應次數
- **失敗次數**: 失敗回應次數
- **成功率**: 成功率的百分比

### 系統資訊卡片
- **程式運行時間**: 從啟動到現在的時間
- **系統版本**: 當前系統版本
- **最後成功時間**: 最近一次成功檢查時間
- **最後失敗時間**: 最近一次失敗檢查時間

## ⚙️ 配置設定

### 主要配置（config.py）
```python
# API監控目標
API_URL = "https://your-api-endpoint.com"

# 檢查間隔（秒）
CHECK_INTERVAL = 600  # 10分鐘

# 系統版本
SYSTEM_VERSION = "v2.1.0"
```

### 警報設定
- **警報音頻率**: 800Hz → 600Hz → 800Hz
- **警報音持續時間**: 0.5秒
- **警報重複間隔**: 10秒
- **連續失敗觸發**: 2次

## 🔍 故障排除

### 警報音不響
1. 檢查手機音量設定
2. 確認瀏覽器音頻權限
3. 檢查是否為靜音模式
4. 重新載入頁面

### 連線錯誤
1. 檢查網路連線
2. 確認後端服務運行
3. 檢查防火牆設定
4. 查看瀏覽器錯誤訊息

### 全螢幕不工作
1. 確認瀏覽器支援
2. 檢查是否有其他全螢幕應用
3. 嘗試手動進入全螢幕

### 頁面顯示異常
1. 清除瀏覽器快取
2. 重新載入頁面
3. 檢查瀏覽器版本
4. 嘗試不同瀏覽器

## 📱 最佳使用建議

### 手機設定
1. **螢幕方向**: 建議使用直向模式
2. **亮度**: 調整到適合的亮度
3. **自動鎖定**: 建議關閉或延長鎖定時間
4. **網路**: 確保穩定的WiFi或4G連線

### 瀏覽器建議
- **Chrome**: 最佳相容性
- **Safari**: iOS設備推薦
- **Firefox**: 備選方案

### 使用技巧
1. **書籤**: 將監控頁面加入書籤
2. **桌面捷徑**: 創建桌面捷徑
3. **通知**: 允許瀏覽器通知
4. **背景運行**: 保持瀏覽器在背景運行

## 🔄 更新日誌

### v2.1.0 (當前版本)
- ✅ 手機螢幕優化
- ✅ 全螢幕支援
- ✅ 警報系統
- ✅ 音頻警報
- ✅ 連線狀態指示器
- ✅ 觸控優化
- ✅ 響應式設計

### 計劃功能
- 📱 PWA支援
- 🔔 推送通知
- 📊 更多統計圖表
- ⚙️ 自定義設定介面

## 📞 技術支援

如果遇到問題，請檢查：
1. 瀏覽器控制台錯誤訊息
2. 後端服務日誌
3. 網路連線狀態
4. 系統資源使用情況

---

**注意**: 這個系統設計用於24/7監控，建議在穩定的網路環境中使用。 